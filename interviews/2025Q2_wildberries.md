# Техсобес

## Статистика

Большой корабль переплывает на другой берег с вероятностью alpha.
Маленький - alpha/2. Наша задача состоит в том, чтобы ХОТЯ БЫ ОДИН корабль
доплыл до другого берега. Разумнее будет отправить один большой корабль или два маленьких (независимо)?

## SQL


1) **Потребление печенья**

Есть таблица потребления печенья: 
```
consumption
(
    coffee_point_id INT,

    cookies    INT
)
```
И таблица - схема офисов

```buildings
(
    coffee_point_id INT,

    coffee_point_name VARCHAR(32),

    office_id INT,

    office_name VARCHAR(32)
)
```

Нужно вывести топ-10 офисов по потреблению печенек среди офисов, которые потребляют от 1 до 1000 печенек.


2) **Скользящее среднее метрики**
Есть таблица пользовательских событий: 
```
ts                 user    price platform month             dt              service    event
0    2023-03-05 20:46:30.673000    u618    1203    site    3    2023-03-05 00:00:00.000000    rec    item_view
1    2023-02-01 14:19:42.346000    u925    5628    ios     2    2023-02-01 00:00:00.000000    rec    item_view
2    2023-02-01 07:15:05.910000    u117    1797    site    2    2023-02-01 00:00:00.000000    rec    order
```

Посчитать скользящее среднее по доле сервиса ‘rec’ в общей выручке всех сервисов в Феврале 2023 года, в динамике по дням. Размер окна - 3 дня.


3) **Медиана цены**

Есть таблица table_agg, которую собрали таким запросом: 

```
SELECT round(price/100)*100 as price_round, count() as cnt
FROM table
  WHERE event = 'item_view'
  GROUP BY price_round
```

Выглядит так: 
```
100 1234
200 938479
.....
```

Найти медиану цены

## Python

Есть клавиатура с буквами английского алфавита, она подключена к экрану. 
На клавиатуре два типа клавиш: обычные и сломанные. 
Если нажать на обычную клавишу, то она напечатает символ один раз, а если сломанную — то ровно дважды. 
Нажали произвольную последовательность клавиш, что-то напечаталось на экране. Надо по тому что вывелось на экран понять, какие клавиши на клавиатуре точно не сломаны

Пример: Если на экране было aab -> [b] точно не сломана 
aabb -> [] ничего не известно"


# Кейсы с командами

## Команда 1

1) Сижу с друзьями человек 20, вдруг понимаете что все 20 человек у себя в персональных  рекомендациях видят товары, которые они покупали. 
Вопросы: 
Оценить масштаб трагедии 
Оценить трагедия или нет 
Оценить качество трагедии?


2) Есть ряд AB на ios и android которые красятся в разные стороны, к нам пришли DS и спрашивают почему.

## Команда 2

1) Приходит продакт говорит хотим предлагать пользователю размер скидки в зависимости от чека корзины, который он оформляет. 
3к - 300 
4к - 400 
5к - 500 
Ты аналитик - что будешь делать?


2) На разных поверхностях есть показы товаров, которые мы за деньги показываем выше 
Видим что 9 января на сайте выросли рекламные показы а на мобилке нет, куда пойдем копать почему так 
Метрика - доля рекламных показов от всех показов

## Команда 3

1) SERP - поисковая выдача - увидел где-то что пользователи часто смотрят кроссовки, открывают карточку товара и возвращаются обратно, выдвинул гипотезу, что можно сделать суммаризацию, вынести в сниппеты, давайте сделаем дизайн АБ. 

2) В один день просели деньги с рекламы на 10 процентов, надо понять что делать. Реклама бустер - какие-то сниппеты поднимаем повыше и берем за это деньги. 


3) Есть приложение, есть поиск на главной странице, есть подсказки, есть поисковая выдача (фильтры, сортировки), в ней есть рекламные товары, деньги получаем с рекламы и комиссии пользователей. 

Гипотеза - если вставить в подсказки рекламу брендов, то сможем с нее заработать. Планируем получать деньги за показ бренда

- Какие проблемы могут возникнуть?
- Как оценить сколько должен стоить за один показ? 
- Как будем оценивать фичу