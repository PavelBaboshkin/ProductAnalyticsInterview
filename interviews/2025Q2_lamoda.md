# Техсобес

## SQL

1) SQL. Дана таблица orders, где 1 строчка = 1 заказ, всего 3 строки:
```
order_id       user_id     order_date    category      revenue
1              101         2024-01-01    Shoes         100
2              102         2024-01-02    Accessories   50
3              101         2024-01-05    Shoes         150
```
Какие значения выведет следующий SQL-запрос?
```
SELECT 
    SUM(revenue) OVER (PARTITION BY user_id) AS revenue_sum, 
    COUNT(category) OVER () AS cnt,
    RANK() OVER (PARTITION BY user_id ORDER BY revenue DESC) AS revenue_rank
FROM orders;
```

2) SQL. Дана таблица items, содержащая информацию о купленных товарах. 
Пример строк из таблицы items:
```
item_id        user_id     order_date    category      revenue
1              101         2024-01-01    Shoes         100
2              102         2024-01-02    Accessories   50
3              101         2024-01-05    Shoes         120
4              103         2024-01-06    Clothes       200
5              101         2024-01-10    Clothes       80
```

Требуется написать SQL-запрос:
Для каждого пользователя вывести цену самого дорогого купленного айтема, id этого айтема, его категорию, а также среднюю цену айтемов в данном категории за все время.
В случае нескольких товаров с одинаковым максимальным revenue у одного пользователя – взять товар с наименьшим item_id

## Статистика

1) Дайте определение p-value в статистических тестах при проверке гипотезы

2) Вы проводите A/B-тест и на этапе планирования рассчитали размер выборки, используя MDE = 5%. После набора нужной выборки получили, что p-value больше уровня значимости (α = 0.05)

Какие из утверждений верны?
а) Это может быть ошибка I рода (ложноположительный результат)
б) Это может быть ошибка II рода (ложноотрицательный результат)
в) Истинный эффект может быть меньше 5%
г) Истинный эффект может быть больше 5%"

## Python

1) Python. Представим, что у вас есть словарь с данными по заказам за несколько месяцев.

В нём содержатся следующие столбцы:

* year — год заказа
* month — месяц заказа
* total_items_shipped — количество товаров в заказе
* order_id — идентификатор заказа

```
data = {
    'year': ['2023', '2023', '2023', ...]
    'month': ['Jan', 'Jan', 'Feb', ...], 
    'total_items_shipped': [10, 15, 10, ...], 
    'order_id': [1, 1, 2, ...]
}
```

1. Выведите по месяцам суммарное количество отгруженных товаров и количество уникальных заказов. Возьмите данные только за 2024 год. 
2. Отфильтруйте только месяцы, в которые суммарное кол-во отправленных товаров превышает 500.


2) Python. У вас есть список чисел numbers и целое число k. Напишите код, который выдаст сумму всех чисел, делящихся на k в этом списке.


# Кейсы с командами

**Шэринг QR кодов**
Есть ассортимент в магазинах, и онлане. Клиенты приходят в магазин, если товара нет, говорят что могут в онлайне привезти через N дней. Дальше набирают корзину на своем устройстве (в магазинах есть большие экраны), потом открывается QR при нажатии на кнопку поделиться корзиной, его считывает клиент, добавляет товары в корзину и заказывает в онлайне. Дальше это считается как продажа в офлайне численно и денежно. Продавец всегда работает со своим устройством, и всегда в конце делится через кр код и потом продавцу платят за это. 

Вопрос: хотим растить долю онлайна через эту механику, вопрос - какие риски, как оценивать? 
Фича уже есть, хотим для продавцов поменять систему мотивации, которая увеличит использование 
Цели - делать инкремент к онлайну компании. 
Что меняем в системе мотивации - можем менять коэффициентна KPI, вбыор KPI,планы, коэффициенты. 